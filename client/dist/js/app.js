!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(1)),i=s(n(7)),c=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"add",value:function(e,t,n){var r={};if(void 0===n||t.name&&"string"==typeof t.name||(t=(0,c.default)(this.get(e,n),t)),(!t.name||"string"!=typeof t.name)&&void 0===n)return"";var a=this.__normalize(t.name);for(var i in r[a]={},t)t.hasOwnProperty(i)&&(r[a][i]=t[i]);return o.default.setData(e,r),a}},{key:"delete",value:function(e,t){o.default.deleteData(e,t)}},{key:"get",value:function(e,t){return void 0===t?o.default.getData(e):o.default.getData(e,t)}},{key:"__normalize",value:function(e){if("string"===!(void 0===e||r(e)))return!1;var t=e.toLowerCase().trim();return i.default.remove(t.split(" ").join("-").split("'").join("-"))}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=n(5),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"setData",value:function(e,t){var n=this.getData(e);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);localStorage.setItem(e,this.__serialize(n));var o=new a("storageChange",{detail:{groupType:e}});window.dispatchEvent(o)}},{key:"deleteData",value:function(e,t){if(localStorage.getItem(e)&&void 0===t)localStorage.removeItem(e);else{var n=this.getData(e);delete n[t],this.setDataGroup(e,n)}}},{key:"setDataGroup",value:function(e,t){localStorage.setItem(e,this.__serialize(t));var n=new a("storageChange",{detail:{groupType:e}});window.dispatchEvent(n)}},{key:"getData",value:function(e,t){if(null===localStorage.getItem(e))return{};var n=this.__deserialize(localStorage.getItem(e));return void 0!==t?n[t]:n}},{key:"getAllData",value:function(){var e={};for(var t in localStorage)if(localStorage.hasOwnProperty(t)){var n=this.__deserialize(localStorage[t]);e[t]=n}return e}},{key:"__serialize",value:function(e){return JSON.stringify(e)}},{key:"__deserialize",value:function(e){return JSON.parse(e)}}]),e}();t.default=o},function(e,t,n){const r=n(3);n(13);window.app=(()=>{for(const e in r){new(0,r[e].default.prototype.constructor)}})()},function(e,t,n){"use strict";e.exports={renderList:n(4),citiesForm:n(9),divisionsForm:n(10),storageObserver:n(11),editJson:n(12)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),c=(r=i)&&r.__esModule?r:{default:r};var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.lists=document.querySelectorAll("[data-list]"),e.objectManager=new c.default,e.exec(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"exec",value:function(){var e=this;[].forEach.call(this.lists,(function(t){var n=t.getAttribute("data-list"),r=e.objectManager.get(n),a=t.firstElementChild;null!==a&&element.removeChild(a);var o=e.fillListArea(r,n);t.appendChild(o)})),this.buildDistrictSelectors(),this.buildRegionSelectors()}},{key:"fillListArea",value:function(e,t){if(0===Object.keys(e).length)return!1;var n=document.createElement("ul");for(var r in e){var a=document.createElement("li"),o=document.createElement("a");o.href=e[r].link,o.target="_blank",o.innerHTML=e[r].name;var i=o.cloneNode(!0);if(i.href="#",i.className="delete-button",i.setAttribute("data-list",t),i.setAttribute("data-element",r),i.innerHTML="delete",this.attachDeleteEvent(i),a.appendChild(o),a.appendChild(i),e[r].hasOwnProperty("attachment")){var c=this.buildSublist(e[r].attachment);c&&a.appendChild(c)}n.appendChild(a)}return n}},{key:"buildRegionSelectors",value:function(){var e=document.getElementById("cities-region-selector");null!==e&&e.parentElement.removeChild(e);var t=document.createElement("select");t.id="cities-region-selector",t.name="region-selector";var n=document.querySelector("#city-attach-region-option"),r=document.querySelector("#district-attach-region-option"),a=this.objectManager.get("regions");for(var o in a)if(a.hasOwnProperty(o)){var i=document.createElement("option");i.value=o,i.innerHTML=a[o].name,t.appendChild(i)}var c=t.cloneNode(!0);c.id="division-region-selector",n.appendChild(t),r.appendChild(c)}},{key:"buildDistrictSelectors",value:function(){var e=document.querySelector("#city-attach-district-option"),t=document.getElementById("cities-district-selector");null!==t&&t.parentElement.removeChild(t);var n=document.createElement("select");n.id="cities-district-selector",n.name="district-selector";var r=this.objectManager.get("districts");for(var a in r)if(r.hasOwnProperty(a)){var o=document.createElement("option");o.value=a,o.innerHTML=r[a].name,n.appendChild(o)}e.appendChild(n)}},{key:"buildSublist",value:function(e){var t=this,n=document.createElement("ul");n.className="sublist";var r=function(r){if(e.hasOwnProperty(r)){var a=e[r];if(a.length<=0)return{v:!1};a.forEach((function(e){var a=t.createLine(r,e);a&&n.appendChild(a)}))}};for(var o in e){var i=r(o);if("object"===(void 0===i?"undefined":a(i)))return i.v}return n}},{key:"createLine",value:function(e,t){var n=document.createElement("li"),r=this.objectManager.get(e,t);if(void 0===r)return!1;var a=document.createElement("a");return a.href=r.link,a.target="_blank",a.innerHTML=r.name,n.appendChild(a),n}},{key:"attachDeleteEvent",value:function(e){var t=this;e.addEventListener("click",(function(n){n.preventDefault(),t.objectManager.delete(e.getAttribute("data-list"),e.getAttribute("data-element"))}))}}]),t}(c.default);t.default=s},function(e,t,n){(function(t){var n=t.CustomEvent;e.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?n:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,n(6))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){t.remove=function(e){return e.replace(/[^\u0000-\u007e]/g,(function(e){return r[e]||e}))};for(var n=[{base:" ",chars:" "},{base:"0",chars:"߀"},{base:"A",chars:"ⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",chars:"Ꜳ"},{base:"AE",chars:"ÆǼǢ"},{base:"AO",chars:"Ꜵ"},{base:"AU",chars:"Ꜷ"},{base:"AV",chars:"ꜸꜺ"},{base:"AY",chars:"Ꜽ"},{base:"B",chars:"ⒷＢḂḄḆɃƁ"},{base:"C",chars:"ⒸＣꜾḈĆCĈĊČÇƇȻ"},{base:"D",chars:"ⒹＤḊĎḌḐḒḎĐƊƉᴅꝹ"},{base:"Dh",chars:"Ð"},{base:"DZ",chars:"ǱǄ"},{base:"Dz",chars:"ǲǅ"},{base:"E",chars:"ɛⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎᴇ"},{base:"F",chars:"ꝼⒻＦḞƑꝻ"},{base:"G",chars:"ⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾɢ"},{base:"H",chars:"ⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",chars:"ⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",chars:"ⒿＪĴɈȷ"},{base:"K",chars:"ⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",chars:"ⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",chars:"Ǉ"},{base:"Lj",chars:"ǈ"},{base:"M",chars:"ⓂＭḾṀṂⱮƜϻ"},{base:"N",chars:"ꞤȠⓃＮǸŃÑṄŇṆŅṊṈƝꞐᴎ"},{base:"NJ",chars:"Ǌ"},{base:"Nj",chars:"ǋ"},{base:"O",chars:"ⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OE",chars:"Œ"},{base:"OI",chars:"Ƣ"},{base:"OO",chars:"Ꝏ"},{base:"OU",chars:"Ȣ"},{base:"P",chars:"ⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",chars:"ⓆＱꝖꝘɊ"},{base:"R",chars:"ⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",chars:"ⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",chars:"ⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"Th",chars:"Þ"},{base:"TZ",chars:"Ꜩ"},{base:"U",chars:"ⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",chars:"ⓋＶṼṾƲꝞɅ"},{base:"VY",chars:"Ꝡ"},{base:"W",chars:"ⓌＷẀẂŴẆẄẈⱲ"},{base:"X",chars:"ⓍＸẊẌ"},{base:"Y",chars:"ⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",chars:"ⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",chars:"ⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑ"},{base:"aa",chars:"ꜳ"},{base:"ae",chars:"æǽǣ"},{base:"ao",chars:"ꜵ"},{base:"au",chars:"ꜷ"},{base:"av",chars:"ꜹꜻ"},{base:"ay",chars:"ꜽ"},{base:"b",chars:"ⓑｂḃḅḇƀƃɓƂ"},{base:"c",chars:"ｃⓒćĉċčçḉƈȼꜿↄ"},{base:"d",chars:"ⓓｄḋďḍḑḓḏđƌɖɗƋᏧԁꞪ"},{base:"dh",chars:"ð"},{base:"dz",chars:"ǳǆ"},{base:"e",chars:"ⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇǝ"},{base:"f",chars:"ⓕｆḟƒ"},{base:"ff",chars:"ﬀ"},{base:"fi",chars:"ﬁ"},{base:"fl",chars:"ﬂ"},{base:"ffi",chars:"ﬃ"},{base:"ffl",chars:"ﬄ"},{base:"g",chars:"ⓖｇǵĝḡğġǧģǥɠꞡꝿᵹ"},{base:"h",chars:"ⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",chars:"ƕ"},{base:"i",chars:"ⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",chars:"ⓙｊĵǰɉ"},{base:"k",chars:"ⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",chars:"ⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇɭ"},{base:"lj",chars:"ǉ"},{base:"m",chars:"ⓜｍḿṁṃɱɯ"},{base:"n",chars:"ⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥлԉ"},{base:"nj",chars:"ǌ"},{base:"o",chars:"ⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿꝋꝍɵɔᴑ"},{base:"oe",chars:"œ"},{base:"oi",chars:"ƣ"},{base:"oo",chars:"ꝏ"},{base:"ou",chars:"ȣ"},{base:"p",chars:"ⓟｐṕṗƥᵽꝑꝓꝕρ"},{base:"q",chars:"ⓠｑɋꝗꝙ"},{base:"r",chars:"ⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",chars:"ⓢｓśṥŝṡšṧṣṩșşȿꞩꞅẛʂ"},{base:"ss",chars:"ß"},{base:"t",chars:"ⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"th",chars:"þ"},{base:"tz",chars:"ꜩ"},{base:"u",chars:"ⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",chars:"ⓥｖṽṿʋꝟʌ"},{base:"vy",chars:"ꝡ"},{base:"w",chars:"ⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",chars:"ⓧｘẋẍ"},{base:"y",chars:"ⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",chars:"ⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],r={},a=0;a<n.length;a+=1)for(var o=n[a].chars,i=0;i<o.length;i+=1)r[o[i]]=n[a].base;t.replacementList=n,t.diacriticsMap=r},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,c,s=i(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))a.call(n,u)&&(s[u]=n[u]);if(r){c=r(n);for(var f=0;f<c.length;f++)o.call(n,c[f])&&(s[c[f]]=n[c[f]])}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=(r=o)&&r.__esModule?r:{default:r};var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.form=document.getElementById("cities-form"),e.objectManager=new i.default,e.exec(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"exec",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){var e=this,t=this.form.querySelector('input[name="displayDistrictsSelector"]'),n=this.form.querySelector('input[name="displayRegionsSelector"]');t.addEventListener("change",(function(){if(t.checked)return e.displayDistrictSelector(!0),!0;e.displayDistrictSelector(!1)})),n.addEventListener("change",(function(){if(n.checked)return e.displayRegionSelector(!0),!0;e.displayRegionSelector(!1)})),this.form.addEventListener("submit",(function(t){t.preventDefault();var n=e.form.querySelector('input[name="displayRegionsSelector"]'),r=e.form.querySelector('input[name="displayDistrictsSelector"]'),a=e.form.querySelector('input[name="cityName"]').value,o=e.form.querySelector('input[name="cityLink"]').value,i=e.form.querySelector('select[name="region-selector"]').value,c=e.form.querySelector('select[name="district-selector"]').value,s=e.objectManager.get("regions",i),l=e.objectManager.get("districts",c),u=e.objectManager.add("cities",{name:a,link:o});if(n.checked||r.checked){if(n.checked&&Object.keys(s).length>0){var f=s.attachment.cities;f.indexOf(u)<0&&f.push(u),e.objectManager.add("regions",{attachment:{cities:f,districts:s.attachment.districts}},i)}if(r.checked&&Object.keys(l).length>0){var d=l.attachment.cities;d.indexOf(u)<0&&d.push(u),e.objectManager.add("districts",{attachment:{cities:d}},c)}}}))}},{key:"displayDistrictSelector",value:function(e){var t=this.form.querySelector('select[name="district-selector"]');return null!==t&&(e?(t.style.display="inline",!0):void(t.style.display="none"))}},{key:"displayRegionSelector",value:function(e){var t=this.form.querySelector('select[name="region-selector"]');return null!==t&&(e?(t.style.display="inline",!0):void(t.style.display="none"))}}]),t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=(r=o)&&r.__esModule?r:{default:r};var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.form=document.getElementById("divisions-form"),e.objectManager=new i.default,e.exec(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"exec",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){var e=this,t=this.form.querySelectorAll('input[name="divisionType"]'),n=this.form.querySelector('input[name="displayRegionsSelector"]');n.addEventListener("change",(function(){if(n.checked)return e.displayRegionSelector(!0),!0;e.displayRegionSelector(!1)})),[].forEach.call(t,(function(t){t.addEventListener("change",(function(){if("districts"===t.value)return e.displayCheckboxSelector(!0),!0;e.displayCheckboxSelector(!1)}))})),this.form.addEventListener("submit",(function(r){r.preventDefault();var a="regions",o=e.form.querySelector('input[name="divisionName"]').value,i=e.form.querySelector('input[name="divisionLink"]').value,c=e.form.querySelector('select[name="region-selector"]').value,s=e.objectManager.get("regions",c);[].forEach.call(t,(function(e){e.checked&&(a=e.value)}));var l="regions"===a?{cities:[],districts:[]}:{cities:[]},u=e.objectManager.add(a,{name:o,link:i,attachment:l});if(n.checked&&"districts"===a&&Object.keys(s).length>0){var f=s.attachment.districts;f.indexOf(u)<0&&f.push(u),e.objectManager.add("regions",{attachment:{cities:s.attachment.cities,districts:f}},c)}}))}},{key:"displayRegionSelector",value:function(e){var t=this.form.querySelector('select[name="region-selector"]');return null!==t&&(e?(t.style.display="inline",!0):void(t.style.display="none"))}},{key:"displayCheckboxSelector",value:function(e){var t=this.form.querySelector('input[name="displayRegionsSelector"]'),n=this.form.querySelector('select[name="region-selector"]');return null!==t&&(e?(t.parentElement.style.display="block",!0):(t.checked=!1,n.style.display="none",void(t.parentElement.style.display="none")))}}]),t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.groups={cities:document.getElementById("cities-area"),regions:document.getElementById("regions-area"),districts:document.getElementById("districts-area")},e.objectManager=new o.default,e.exec(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"exec",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){var e=this;window.addEventListener("storageChange",(function(t){e.buildArea(t.detail.groupType,a.default.getData(t.detail.groupType))}))}},{key:"buildArea",value:function(e,t){var n=this.groups[e].firstElementChild;null!==n&&this.groups[e].removeChild(n);var r=document.createElement("ul");for(var a in t){var o=document.createElement("li"),i=document.createElement("a");i.href=t[a].link,i.target="_blank",i.innerHTML=t[a].name;var c=i.cloneNode(!0);c.href="#",c.className="delete-button",c.setAttribute("data-list",e),c.setAttribute("data-element",a),c.innerHTML="delete",this.attachDeleteEvent(c),o.appendChild(i),o.appendChild(c),r.appendChild(o)}this.groups[e].appendChild(r)}},{key:"attachDeleteEvent",value:function(e){var t=this;e.addEventListener("click",(function(n){n.preventDefault(),t.objectManager.delete(e.getAttribute("data-list"),e.getAttribute("data-element"))}))}}]),t}(o.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=(r=o)&&r.__esModule?r:{default:r};var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={},this.dlButton=document.getElementById("download-json"),this.bindEvents()}return a(e,[{key:"bindEvents",value:function(){this.dlButton.addEventListener("click",this.fillJsonfile.bind(this))}},{key:"fillJsonfile",value:function(){var e=JSON.stringify(i.default.getAllData()),t=JSON.stringify({jsonData:e}),n=new XMLHttpRequest;n.open("post","/api/writeJson"),n.setRequestHeader("Content-Type","application/json"),n.responseType="text",n.addEventListener("load",(function(){200===n.status?(window.location.href=n.response,console.log(n.response)):(console.log(n.status),console.error("request api failed"))})),n.send(t)}}]),e}();t.default=c},function(e,t,n){}]);
//# sourceMappingURL=app.js.map